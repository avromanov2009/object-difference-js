!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("ObjDiff",[],e):"object"==typeof exports?exports.ObjDiff=e():t.ObjDiff=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={ObjectDifference:r(1).GetObjectDifference};e.default=n,t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetObjectDifference=function(t,e,r){return m("",t,e,r)};var n,o=(n=r(2))&&n.__esModule?n:{default:n};var f="created",u="updated",i="deleted",c="NA";function p(t){return""===t||0===t||null==t||t==={}||Array.isArray(t)&&t.length<1}function a(t){return!p(t)&&("boolean"==typeof t||"number"==typeof t||"string"==typeof t)}function y(t){return!p(t)&&t instanceof Date}function l(t){return!p(t)&&Array.isArray(t)}function d(t){return"function"==typeof t}function s(t){return!(a(t)||p(t)||y(t)||l(t)||d(t))}function b(t,e){return t?"".concat(t,".").concat(e):e}function m(t,e,r,n){var g=[];if("__ob__"===e||"__proto__"===e)return g;if(a(r)&&a(n))return r==n?g:(g.push({property:b(t,e),type:u,from:r,to:n}),g);if(d(r)||d(n))return g.push({property:b(t,e),type:c,from:(0,o.default)(r),to:(0,o.default)(n)}),g;if(y(r)&&y(n))return r.getTime()===n.getTime()?g:(g.push({property:b(t,e),type:u,from:(0,o.default)(r),to:(0,o.default)(n)}),g);if(y(r)&&a(n)||y(n)&&a(r))return g.push({property:b(t,e),type:u,from:(0,o.default)(r),to:(0,o.default)(n)}),g;if(p(r)&&p(n))return g;if(p(r)&&a(n))return g.push({property:b(t,e),type:f,from:"",to:(0,o.default)(n)}),g;if(p(r)&&y(n))return g.push({property:b(t,e),type:f,from:"",to:(0,o.default)(n)}),g;if(p(r)&&l(n)){for(var h=0;h<n.length;h++)g=g.concat(m(b(t,e),"[".concat(h,"]"),void 0,n[h]));return g}if(p(r)&&s(n))return Object.getOwnPropertyNames(n).forEach(function(r,o,f){g=g.concat(m(b(t,e),r,void 0,n[r]))}),g;if((a(r)||y(r)||l(r)||s(r))&&p(n))return g.push({property:b(t,e),type:i,from:"",to:""}),g;if((a(r)||y(r))&&l(n)){g.push({property:b(t,e),type:i,from:"",to:""});for(var v=0;v<n.length;v++)g=g.concat(m(b(t,e),"[".concat(v,"]"),void 0,n[v]));return g}if((a(r)||y(r))&&s(n))return g.push({property:b(t,e),type:i,from:"",to:""}),Object.getOwnPropertyNames(n).forEach(function(r,o,f){g=g.concat(m(b(t,e),r,void 0,n[r]))}),g;if(l(r)&&(a(n)||y(n)))return g.push({property:b(t,e),type:u,from:"Array[".concat(r.length,"]"),to:(0,o.default)(n)}),g;if(l(r)&&l(n))return g=g.concat(function(t,e,r,n){var o=[];if(r.length===n.length){for(var f=0;f<r.length;f++)if(JSON.stringify(r)!==JSON.stringify(n))for(var i=0;i<r.length;i++)o=o.concat(m(b(t,e),"[".concat(i,"]"),r[i],n[i]));return o}if(r.length>30||n.length>30)return o.push({property:b(t,e),type:u,from:"Array[".concat(r.length,"]"),to:"Array[".concat(n.length,"]")}),o;function c(t){return function(e){return 0===t.filter(function(t){return JSON.stringify(t)===JSON.stringify(e)}).length}}for(var p=r.filter(c(n)),a=n.filter(c(r)),y=0;y<p.length;y++)o=o.concat(m(b(t,e),"[".concat(y,"]"),p[y],void 0));for(var l=0;l<a.length;l++)o=o.concat(m(b(t,e),"[".concat(l,"]"),void 0,a[l]));return o}(t,e,r,n));if(l(r)&&l(n))return g.push({property:b(t,e),type:i,from:"Array[".concat(r.length,"]"),to:""}),Object.getOwnPropertyNames(n).forEach(function(r,o,f){g=g.concat(m(b(t,e),r,void 0,n[r]))}),g;if(s(r)&&(a(n)||y(n)))return g.push({property:b(t,e),type:u,from:"{}",to:(0,o.default)(n)}),g;if(s(r)&&l(n)){g.push({property:b(t,e),type:i,from:"{}",to:(0,o.default)(n)});for(var O=0;O<n.length;O++)g=g.concat(m(b(t,e),"[".concat(O,"]"),void 0,n[O]));return g}return s(r)&&s(n)&&(Object.getOwnPropertyNames(r).forEach(function(o,f,u){g=g.concat(m(b(t,e),o,r[o],n[o]))}),Object.getOwnPropertyNames(n).forEach(function(o,f,u){void 0===r[o]&&(g=g.concat(m(b(t,e),o,void 0,n[o])))})),g}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e){if("boolean"==typeof e||"number"==typeof e||"string"==typeof e)return e.toString();if(null===e)return"null";if(void 0===e)return"undefined";if("symbol"===n(e))return"symbol";if(e instanceof Date)return e.toUTCString();if(Array.isArray(e))return e.map(function(e){return t(e)}).join(", ");if("function"==typeof e)return"function";return JSON.stringify(e)},t.exports=e.default}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9PYmpEaWZmL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9PYmpEaWZmL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL09iakRpZmYvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vT2JqRGlmZi8uL3NyYy9vYmplY3REaWZmZXJlbmNlLmpzIiwid2VicGFjazovL09iakRpZmYvLi9zcmMvYW55VG9TdHJpbmcuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsInRoaXMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiT2JqZWN0RGlmZmVyZW5jZSIsIkdldE9iamVjdERpZmZlcmVuY2UiLCJvYmplY3ROYW1lIiwidmFsdWVGcm9tIiwidmFsdWVUbyIsIl9HZXRPYmplY3REaWZmZXJlbmNlIiwiX2FueVRvU3RyaW5nIiwiVkFMVUVfQ1JFQVRFRCIsIlZBTFVFX1VQREFURUQiLCJWQUxVRV9ERUxFVEVEIiwiTk9UX0NPTVBBUkFCTEUiLCJfaXNCbGFuayIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsIl9pc1ZhbHVlIiwiX2lzRGF0ZSIsIkRhdGUiLCJfaXNBcnJheSIsIl9pc0Z1bmN0aW9uIiwiX2lzT2JqZWN0IiwiX2dldEZ1bGxQcm9wTmFtZSIsInBhcmVudE5hbWUiLCJwcm9wZXJ0eU5hbWUiLCJjb25jYXQiLCJkaWZmIiwicHVzaCIsInR5cGUiLCJmcm9tIiwidG8iLCJkZWZhdWx0IiwiZ2V0VGltZSIsInVuZGVmaW5lZCIsImdldE93blByb3BlcnR5TmFtZXMiLCJmb3JFYWNoIiwidmFsIiwiaWR4IiwiYXJyYXkiLCJhMSIsImEyIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbXBhcmVyIiwib3RoZXJBcnJheSIsImN1cnJlbnQiLCJmaWx0ZXIiLCJvdGhlciIsIm9ubHlJbkExIiwib25seUluQTIiLCJfZ2V0QXJyYXlEaWZmZW5jZSIsImFueVRvU3RyaW5nIiwidG9TdHJpbmciLCJfdHlwZW9mIiwidG9VVENTdHJpbmciLCJtYXAiLCJ4Iiwiam9pbiJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FDQSxpQkFBQUMsU0FBQSxpQkFBQUMsT0FDQUEsT0FBQUQsUUFBQUQsSUFDQSxtQkFBQUcsZUFBQUMsSUFDQUQsT0FBQSxhQUFBSCxHQUNBLGlCQUFBQyxRQUNBQSxRQUFBLFFBQUFELElBRUFELEVBQUEsUUFBQUMsSUFSQSxDQVNDLG9CQUFBSyxVQUFBQyxLQUFBLFdBQ0QsbUJDVEEsSUFBQUMsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBUixRQUdBLElBQUFDLEVBQUFLLEVBQUFFLEdBQUEsQ0FDQUMsRUFBQUQsRUFDQUUsR0FBQSxFQUNBVixRQUFBLElBVUEsT0FOQVcsRUFBQUgsR0FBQUksS0FBQVgsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQU8sR0FHQU4sRUFBQVMsR0FBQSxFQUdBVCxFQUFBRCxRQTBEQSxPQXJEQU8sRUFBQU0sRUFBQUYsRUFHQUosRUFBQU8sRUFBQVIsRUFHQUMsRUFBQVEsRUFBQSxTQUFBZixFQUFBZ0IsRUFBQUMsR0FDQVYsRUFBQVcsRUFBQWxCLEVBQUFnQixJQUNBRyxPQUFBQyxlQUFBcEIsRUFBQWdCLEVBQUEsQ0FB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LEtBQUssTUFDSCxHQUFpQixtQkFBTnRFLEVBQ2hCLE1BQU8sV0FFVCxPQUFPc0QsS0FBS0MsVUFBVXZEIiwiZmlsZSI6Im9iamVjdC1kaWZmZXJlbmNlLWpzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiT2JqRGlmZlwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJPYmpEaWZmXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIk9iakRpZmZcIl0gPSBmYWN0b3J5KCk7XG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IHsgR2V0T2JqZWN0RGlmZmVyZW5jZSBhcyBPYmplY3REaWZmZXJlbmNlfSBmcm9tIFwiLi9vYmplY3REaWZmZXJlbmNlLmpzXCI7XHJcbmV4cG9ydCBkZWZhdWx0IHsgT2JqZWN0RGlmZmVyZW5jZSB9O1xyXG4iLCJpbXBvcnQgYW55VG9TdHJpbmcgZnJvbSBcIi4vYW55VG9TdHJpbmcuanNcIjtcclxuXHJcbmNvbnN0IFZBTFVFX0NSRUFURUQgPSBcImNyZWF0ZWRcIixcclxuICBWQUxVRV9VUERBVEVEID0gXCJ1cGRhdGVkXCIsXHJcbiAgVkFMVUVfREVMRVRFRCA9IFwiZGVsZXRlZFwiLFxyXG4gIE5PVF9DT01QQVJBQkxFID0gXCJOQVwiO1xyXG5cclxuZnVuY3Rpb24gX2lzQmxhbmsodCkge1xyXG4gIHJldHVybiB0ID09PSBcIlwiIHx8IHQgPT09IDAgfHwgdCA9PT0gdW5kZWZpbmVkIHx8IHQgPT09IG51bGwgfHwgdCA9PT0ge30gfHwgKEFycmF5LmlzQXJyYXkodCkgJiYgdC5sZW5ndGggPCAxKTtcclxufVxyXG5mdW5jdGlvbiBfaXNWYWx1ZSh0KSB7XHJcbiAgcmV0dXJuICFfaXNCbGFuayh0KSAmJiAodHlwZW9mIHQgPT09IFwiYm9vbGVhblwiIHx8IHR5cGVvZiB0ID09PSBcIm51bWJlclwiIHx8IHR5cGVvZiB0ID09PSBcInN0cmluZ1wiKTtcclxufVxyXG5mdW5jdGlvbiBfaXNEYXRlKHQpIHtcclxuICByZXR1cm4gIV9pc0JsYW5rKHQpICYmIHQgaW5zdGFuY2VvZiBEYXRlO1xyXG59XHJcbmZ1bmN0aW9uIF9pc0FycmF5KHQpIHtcclxuICByZXR1cm4gIV9pc0JsYW5rKHQpICYmIEFycmF5LmlzQXJyYXkodCk7XHJcbn1cclxuZnVuY3Rpb24gX2lzRnVuY3Rpb24odCkge1xyXG4gIHJldHVybiB0eXBlb2YgdCA9PT0gXCJmdW5jdGlvblwiO1xyXG59XHJcbmZ1bmN0aW9uIF9pc09iamVjdCh0KSB7XHJcbiAgcmV0dXJuICFfaXNWYWx1ZSh0KSAmJiAhX2lzQmxhbmsodCkgJiYgIV9pc0RhdGUodCkgJiYgIV9pc0FycmF5KHQpICYmICFfaXNGdW5jdGlvbih0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gX2dldEZ1bGxQcm9wTmFtZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUpIHtcclxuICByZXR1cm4gcGFyZW50TmFtZSA/IGAke3BhcmVudE5hbWV9LiR7cHJvcGVydHlOYW1lfWAgOiBwcm9wZXJ0eU5hbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9nZXRBcnJheURpZmZlbmNlKHBhcmVudE5hbWUsIHByb3BlcnR5TmFtZSwgYTEsIGEyKSB7XHJcbiAgbGV0IGRpZmYgPSBbXTtcclxuXHJcbiAgaWYgKGExLmxlbmd0aCA9PT0gYTIubGVuZ3RoKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGExLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChKU09OLnN0cmluZ2lmeShhMSkgPT09IEpTT04uc3RyaW5naWZ5KGEyKSkge1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYTEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGRpZmYgPSBkaWZmLmNvbmNhdChfR2V0T2JqZWN0RGlmZmVyZW5jZShfZ2V0RnVsbFByb3BOYW1lKHBhcmVudE5hbWUsIHByb3BlcnR5TmFtZSksIGBbJHtpfV1gLCBhMVtpXSwgYTJbaV0pKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRpZmY7XHJcbiAgfVxyXG5cclxuICBpZiAoYTEubGVuZ3RoID4gMzAgfHwgYTIubGVuZ3RoID4gMzApIHtcclxuICAgIGRpZmYucHVzaCh7XHJcbiAgICAgIHByb3BlcnR5OiBfZ2V0RnVsbFByb3BOYW1lKHBhcmVudE5hbWUsIHByb3BlcnR5TmFtZSksXHJcbiAgICAgIHR5cGU6IFZBTFVFX1VQREFURUQsXHJcbiAgICAgIGZyb206IGBBcnJheVske2ExLmxlbmd0aH1dYCxcclxuICAgICAgdG86IGBBcnJheVske2EyLmxlbmd0aH1dYFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZGlmZjtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNvbXBhcmVyKG90aGVyQXJyYXkpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoY3VycmVudCkge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIG90aGVyQXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChvdGhlcikge1xyXG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG90aGVyKSA9PT0gSlNPTi5zdHJpbmdpZnkoY3VycmVudCk7XHJcbiAgICAgICAgfSkubGVuZ3RoID09PSAwXHJcbiAgICAgICk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgbGV0IG9ubHlJbkExID0gYTEuZmlsdGVyKGNvbXBhcmVyKGEyKSk7XHJcblxyXG4gIGxldCBvbmx5SW5BMiA9IGEyLmZpbHRlcihjb21wYXJlcihhMSkpO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IG9ubHlJbkExLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBkaWZmID0gZGlmZi5jb25jYXQoX0dldE9iamVjdERpZmZlcmVuY2UoX2dldEZ1bGxQcm9wTmFtZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUpLCBgWyR7aX1dYCwgb25seUluQTFbaV0sIHVuZGVmaW5lZCkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXHJcbiAgfVxyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IG9ubHlJbkEyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBkaWZmID0gZGlmZi5jb25jYXQoX0dldE9iamVjdERpZmZlcmVuY2UoX2dldEZ1bGxQcm9wTmFtZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUpLCBgWyR7aX1dYCwgdW5kZWZpbmVkLCBvbmx5SW5BMltpXSkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXHJcbiAgfVxyXG5cclxuICByZXR1cm4gZGlmZjtcclxufVxyXG5cclxuZnVuY3Rpb24gX0dldE9iamVjdERpZmZlcmVuY2UocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lLCB2YWx1ZUZyb20sIHZhbHVlVG8pIHtcclxuICBsZXQgZGlmZiA9IFtdO1xyXG5cclxuICBpZiAocHJvcGVydHlOYW1lID09PSBcIl9fb2JfX1wiIHx8IHByb3BlcnR5TmFtZSA9PT0gXCJfX3Byb3RvX19cIikge1xyXG4gICAgcmV0dXJuIGRpZmY7XHJcbiAgfVxyXG4gIC8vIGNhc2U6IOS4pOS4qumDveaYr+WfuuehgOexu+Wei1xyXG4gIGlmIChfaXNWYWx1ZSh2YWx1ZUZyb20pICYmIF9pc1ZhbHVlKHZhbHVlVG8pKSB7XHJcbiAgICBpZiAodmFsdWVGcm9tID09IHZhbHVlVG8pIHsgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcclxuICAgICAgcmV0dXJuIGRpZmY7XHJcbiAgICB9XHJcbiAgICBkaWZmLnB1c2goe1xyXG4gICAgICBwcm9wZXJ0eTogX2dldEZ1bGxQcm9wTmFtZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUpLFxyXG4gICAgICB0eXBlOiBWQUxVRV9VUERBVEVELFxyXG4gICAgICBmcm9tOiB2YWx1ZUZyb20sXHJcbiAgICAgIHRvOiB2YWx1ZVRvXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkaWZmO1xyXG4gIH1cclxuXHJcbiAgLy8gY2FzZTog5o6S6Zmk5pyJZnVuY3Rpb27nmoTmg4XlhrVcclxuICBpZiAoX2lzRnVuY3Rpb24odmFsdWVGcm9tKSB8fCBfaXNGdW5jdGlvbih2YWx1ZVRvKSkge1xyXG4gICAgZGlmZi5wdXNoKHtcclxuICAgICAgcHJvcGVydHk6IF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSxcclxuICAgICAgdHlwZTogTk9UX0NPTVBBUkFCTEUsXHJcbiAgICAgIGZyb206IGFueVRvU3RyaW5nKHZhbHVlRnJvbSksXHJcbiAgICAgIHRvOiBhbnlUb1N0cmluZyh2YWx1ZVRvKVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZGlmZjtcclxuICB9XHJcblxyXG4gIC8vIGNhc2U6IOS4pOS4qumDveaYr+aXpeacn1xyXG4gIGlmIChfaXNEYXRlKHZhbHVlRnJvbSkgJiYgX2lzRGF0ZSh2YWx1ZVRvKSkge1xyXG4gICAgaWYgKHZhbHVlRnJvbS5nZXRUaW1lKCkgPT09IHZhbHVlVG8uZ2V0VGltZSgpKSB7XHJcbiAgICAgIHJldHVybiBkaWZmO1xyXG4gICAgfVxyXG4gICAgZGlmZi5wdXNoKHtcclxuICAgICAgcHJvcGVydHk6IF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSxcclxuICAgICAgdHlwZTogVkFMVUVfVVBEQVRFRCxcclxuICAgICAgZnJvbTogYW55VG9TdHJpbmcodmFsdWVGcm9tKSxcclxuICAgICAgdG86IGFueVRvU3RyaW5nKHZhbHVlVG8pXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkaWZmO1xyXG4gIH1cclxuXHJcbiAgLy8gY2FzZTog5LiA5Liq5piv5pel5pyf77yM5Y+m5LiA5Liq5piv5YC8XHJcbiAgaWYgKChfaXNEYXRlKHZhbHVlRnJvbSkgJiYgX2lzVmFsdWUodmFsdWVUbykpIHx8IChfaXNEYXRlKHZhbHVlVG8pICYmIF9pc1ZhbHVlKHZhbHVlRnJvbSkpKSB7XHJcbiAgICBkaWZmLnB1c2goe1xyXG4gICAgICBwcm9wZXJ0eTogX2dldEZ1bGxQcm9wTmFtZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUpLFxyXG4gICAgICB0eXBlOiBWQUxVRV9VUERBVEVELFxyXG4gICAgICBmcm9tOiBhbnlUb1N0cmluZyh2YWx1ZUZyb20pLFxyXG4gICAgICB0bzogYW55VG9TdHJpbmcodmFsdWVUbylcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGRpZmY7XHJcbiAgfVxyXG5cclxuICAvLyBjYXNlOiDkuKTkuKrpg73mmK9CbGFua1xyXG4gIGlmIChfaXNCbGFuayh2YWx1ZUZyb20pICYmIF9pc0JsYW5rKHZhbHVlVG8pKSB7XHJcbiAgICByZXR1cm4gZGlmZjtcclxuICB9XHJcbiAgLy8gY2FzZTogRnJvbeaYr2JsYW5rLCBUb+S4jeaYr1xyXG4gIGlmIChfaXNCbGFuayh2YWx1ZUZyb20pICYmIF9pc1ZhbHVlKHZhbHVlVG8pKSB7XHJcbiAgICBkaWZmLnB1c2goe1xyXG4gICAgICBwcm9wZXJ0eTogX2dldEZ1bGxQcm9wTmFtZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUpLFxyXG4gICAgICB0eXBlOiBWQUxVRV9DUkVBVEVELFxyXG4gICAgICBmcm9tOiBcIlwiLFxyXG4gICAgICB0bzogYW55VG9TdHJpbmcodmFsdWVUbylcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGRpZmY7XHJcbiAgfVxyXG4gIGlmIChfaXNCbGFuayh2YWx1ZUZyb20pICYmIF9pc0RhdGUodmFsdWVUbykpIHtcclxuICAgIGRpZmYucHVzaCh7XHJcbiAgICAgIHByb3BlcnR5OiBfZ2V0RnVsbFByb3BOYW1lKHBhcmVudE5hbWUsIHByb3BlcnR5TmFtZSksXHJcbiAgICAgIHR5cGU6IFZBTFVFX0NSRUFURUQsXHJcbiAgICAgIGZyb206IFwiXCIsXHJcbiAgICAgIHRvOiBhbnlUb1N0cmluZyh2YWx1ZVRvKVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZGlmZjtcclxuICB9XHJcbiAgaWYgKF9pc0JsYW5rKHZhbHVlRnJvbSkgJiYgX2lzQXJyYXkodmFsdWVUbykpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVUby5sZW5ndGg7IGkrKykge1xyXG4gICAgICBkaWZmID0gZGlmZi5jb25jYXQoX0dldE9iamVjdERpZmZlcmVuY2UoX2dldEZ1bGxQcm9wTmFtZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUpLCBgWyR7aX1dYCwgdW5kZWZpbmVkLCB2YWx1ZVRvW2ldKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGlmZjtcclxuICB9XHJcbiAgaWYgKF9pc0JsYW5rKHZhbHVlRnJvbSkgJiYgX2lzT2JqZWN0KHZhbHVlVG8pKSB7XHJcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZVRvKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwsIGlkeCwgYXJyYXkpIHtcclxuICAgICAgZGlmZiA9IGRpZmYuY29uY2F0KF9HZXRPYmplY3REaWZmZXJlbmNlKF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSwgdmFsLCB1bmRlZmluZWQsIHZhbHVlVG9bdmFsXSkpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZGlmZjtcclxuICB9XHJcbiAgLy8gY2FzZTogRnJvbeS4jeaYr2JsYW5rLCBUb+aYr1xyXG4gIGlmICgoX2lzVmFsdWUodmFsdWVGcm9tKSB8fCBfaXNEYXRlKHZhbHVlRnJvbSkgfHwgX2lzQXJyYXkodmFsdWVGcm9tKSB8fCBfaXNPYmplY3QodmFsdWVGcm9tKSkgJiYgX2lzQmxhbmsodmFsdWVUbykpIHtcclxuICAgIGRpZmYucHVzaCh7XHJcbiAgICAgIHByb3BlcnR5OiBfZ2V0RnVsbFByb3BOYW1lKHBhcmVudE5hbWUsIHByb3BlcnR5TmFtZSksXHJcbiAgICAgIHR5cGU6IFZBTFVFX0RFTEVURUQsXHJcbiAgICAgIGZyb206IFwiXCIsXHJcbiAgICAgIHRvOiBcIlwiXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkaWZmO1xyXG4gIH1cclxuXHJcbiAgLy8gY2FzZTogRnJvbeaYr+WAvOaIluaXpeacn++8jFRv5pivQXJyYXlcclxuICBpZiAoKF9pc1ZhbHVlKHZhbHVlRnJvbSkgfHwgX2lzRGF0ZSh2YWx1ZUZyb20pKSAmJiBfaXNBcnJheSh2YWx1ZVRvKSkge1xyXG4gICAgZGlmZi5wdXNoKHtcclxuICAgICAgcHJvcGVydHk6IF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSxcclxuICAgICAgdHlwZTogVkFMVUVfREVMRVRFRCxcclxuICAgICAgZnJvbTogXCJcIixcclxuICAgICAgdG86IFwiXCJcclxuICAgIH0pO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVUby5sZW5ndGg7IGkrKykge1xyXG4gICAgICBkaWZmID0gZGlmZi5jb25jYXQoX0dldE9iamVjdERpZmZlcmVuY2UoX2dldEZ1bGxQcm9wTmFtZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUpLCBgWyR7aX1dYCwgdW5kZWZpbmVkLCB2YWx1ZVRvW2ldKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRpZmY7XHJcbiAgfVxyXG5cclxuICAvLyBjYXNlOiBGcm9t5piv5YC85oiW5pel5pyf77yMVG/mmK9PYmplY3RcclxuICBpZiAoKF9pc1ZhbHVlKHZhbHVlRnJvbSkgfHwgX2lzRGF0ZSh2YWx1ZUZyb20pKSAmJiBfaXNPYmplY3QodmFsdWVUbykpIHtcclxuICAgIGRpZmYucHVzaCh7XHJcbiAgICAgIHByb3BlcnR5OiBfZ2V0RnVsbFByb3BOYW1lKHBhcmVudE5hbWUsIHByb3BlcnR5TmFtZSksXHJcbiAgICAgIHR5cGU6IFZBTFVFX0RFTEVURUQsXHJcbiAgICAgIGZyb206IFwiXCIsXHJcbiAgICAgIHRvOiBcIlwiXHJcbiAgICB9KTtcclxuXHJcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZVRvKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwsIGlkeCwgYXJyYXkpIHtcclxuICAgICAgZGlmZiA9IGRpZmYuY29uY2F0KF9HZXRPYmplY3REaWZmZXJlbmNlKF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSwgdmFsLCB1bmRlZmluZWQsIHZhbHVlVG9bdmFsXSkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGRpZmY7XHJcbiAgfVxyXG5cclxuICAvLyBjYXNlOiBGcm9t5pivQXJyYXnvvIxUb+aYr+WAvOaIluaXpeacn1xyXG4gIGlmIChfaXNBcnJheSh2YWx1ZUZyb20pICYmIChfaXNWYWx1ZSh2YWx1ZVRvKSB8fCBfaXNEYXRlKHZhbHVlVG8pKSkge1xyXG4gICAgZGlmZi5wdXNoKHtcclxuICAgICAgcHJvcGVydHk6IF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSxcclxuICAgICAgdHlwZTogVkFMVUVfVVBEQVRFRCxcclxuICAgICAgZnJvbTogYEFycmF5WyR7dmFsdWVGcm9tLmxlbmd0aH1dYCxcclxuICAgICAgdG86IGFueVRvU3RyaW5nKHZhbHVlVG8pXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkaWZmO1xyXG4gIH1cclxuXHJcbiAgLy8gY2FzZTogRnJvbeaYr0FycmF577yMVG/mmK9BcnJheVxyXG4gIGlmIChfaXNBcnJheSh2YWx1ZUZyb20pICYmIF9pc0FycmF5KHZhbHVlVG8pKSB7XHJcbiAgICBkaWZmID0gZGlmZi5jb25jYXQoX2dldEFycmF5RGlmZmVuY2UocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lLCB2YWx1ZUZyb20sIHZhbHVlVG8pKTtcclxuICAgIHJldHVybiBkaWZmO1xyXG4gIH1cclxuXHJcbiAgLy8gY2FzZTogRnJvbeaYr0FycmF577yMVG/mmK9PYmplY3RcclxuICBpZiAoX2lzQXJyYXkodmFsdWVGcm9tKSAmJiBfaXNBcnJheSh2YWx1ZVRvKSkge1xyXG4gICAgZGlmZi5wdXNoKHtcclxuICAgICAgcHJvcGVydHk6IF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSxcclxuICAgICAgdHlwZTogVkFMVUVfREVMRVRFRCxcclxuICAgICAgZnJvbTogYEFycmF5WyR7dmFsdWVGcm9tLmxlbmd0aH1dYCxcclxuICAgICAgdG86IFwiXCJcclxuICAgIH0pO1xyXG5cclxuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlVG8pLmZvckVhY2goZnVuY3Rpb24gKHZhbCwgaWR4LCBhcnJheSkge1xyXG4gICAgICBkaWZmID0gZGlmZi5jb25jYXQoX0dldE9iamVjdERpZmZlcmVuY2UoX2dldEZ1bGxQcm9wTmFtZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUpLCB2YWwsIHVuZGVmaW5lZCwgdmFsdWVUb1t2YWxdKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZGlmZjtcclxuICB9XHJcblxyXG4gIC8vIGNhc2U6IEZyb23mmK9PYmplY3TvvIxUb+aYr+WAvOaIluaXpeacn1xyXG4gIGlmIChfaXNPYmplY3QodmFsdWVGcm9tKSAmJiAoX2lzVmFsdWUodmFsdWVUbykgfHwgX2lzRGF0ZSh2YWx1ZVRvKSkpIHtcclxuICAgIGRpZmYucHVzaCh7XHJcbiAgICAgIHByb3BlcnR5OiBfZ2V0RnVsbFByb3BOYW1lKHBhcmVudE5hbWUsIHByb3BlcnR5TmFtZSksXHJcbiAgICAgIHR5cGU6IFZBTFVFX1VQREFURUQsXHJcbiAgICAgIGZyb206IFwie31cIixcclxuICAgICAgdG86IGFueVRvU3RyaW5nKHZhbHVlVG8pXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZGlmZjtcclxuICB9XHJcbiAgLy8gY2FzZTogRnJvbeaYr09iamVjdO+8jFRv5pivQXJyYXlcclxuICBpZiAoX2lzT2JqZWN0KHZhbHVlRnJvbSkgJiYgX2lzQXJyYXkodmFsdWVUbykpIHtcclxuICAgIGRpZmYucHVzaCh7XHJcbiAgICAgIHByb3BlcnR5OiBfZ2V0RnVsbFByb3BOYW1lKHBhcmVudE5hbWUsIHByb3BlcnR5TmFtZSksXHJcbiAgICAgIHR5cGU6IFZBTFVFX0RFTEVURUQsXHJcbiAgICAgIGZyb206IFwie31cIixcclxuICAgICAgdG86IGFueVRvU3RyaW5nKHZhbHVlVG8pXHJcbiAgICB9KTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVUby5sZW5ndGg7IGkrKykge1xyXG4gICAgICBkaWZmID0gZGlmZi5jb25jYXQoX0dldE9iamVjdERpZmZlcmVuY2UoX2dldEZ1bGxQcm9wTmFtZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUpLCBgWyR7aX1dYCwgdW5kZWZpbmVkLCB2YWx1ZVRvW2ldKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGlmZjtcclxuICB9XHJcblxyXG4gIC8vIGNhc2U6IEZyb23mmK9PYmplY3TvvIxUb+aYr09iamVjdFxyXG4gIGlmIChfaXNPYmplY3QodmFsdWVGcm9tKSAmJiBfaXNPYmplY3QodmFsdWVUbykpIHtcclxuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlRnJvbSkuZm9yRWFjaChmdW5jdGlvbiAodmFsLCBpZHgsIGFycmF5KSB7XHJcbiAgICAgIGRpZmYgPSBkaWZmLmNvbmNhdChfR2V0T2JqZWN0RGlmZmVyZW5jZShfZ2V0RnVsbFByb3BOYW1lKHBhcmVudE5hbWUsIHByb3BlcnR5TmFtZSksIHZhbCwgdmFsdWVGcm9tW3ZhbF0sIHZhbHVlVG9bdmFsXSkpO1xyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZVRvKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwsIGlkeCwgYXJyYXkpIHtcclxuICAgICAgaWYgKHZhbHVlRnJvbVt2YWxdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgZGlmZiA9IGRpZmYuY29uY2F0KF9HZXRPYmplY3REaWZmZXJlbmNlKF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSwgdmFsLCB1bmRlZmluZWQsIHZhbHVlVG9bdmFsXSkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZGlmZjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBkZWVwIGRpZmZlcmVuY2UgYmV0d2VlbiB0d28gb2JqZWN0cy4gQW4gZW1wdHkgYXJyYXkgd2lsbCBiZSByZXR1cm5lZCBmb3IgdHdvIHNhbWUgb2JqZWN0cyBjb21wYXJpbmcuXHJcbiAqXHJcbiAqIEBleHBvcnRcclxuICogQHBhcmFtIHsqfSBwcm9wZXJ0eU5hbWUgb2JqZWN0IG5hbWUsIGFzIHRoZSByb290IHByb3BlcnR5IG5hbWVcclxuICogQHBhcmFtIHsqfSB2YWx1ZUZyb20gdmFsdWUgY29tcGFyaW5nIG9uIHRoZSBsZWZ0XHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWVUbyB2YWx1ZSBjb21wYXJpbmcgb24gdGhlIHJpZ2h0XHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gR2V0T2JqZWN0RGlmZmVyZW5jZShvYmplY3ROYW1lLCB2YWx1ZUZyb20sIHZhbHVlVG8pIHtcclxuICByZXR1cm4gX0dldE9iamVjdERpZmZlcmVuY2UoXCJcIiwgb2JqZWN0TmFtZSwgdmFsdWVGcm9tLCB2YWx1ZVRvKTtcclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhbnlUb1N0cmluZyh0KSB7XHJcbiAgaWYgKHR5cGVvZiB0ID09PSBcImJvb2xlYW5cIiB8fCB0eXBlb2YgdCA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgdCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgcmV0dXJuIHQudG9TdHJpbmcoKTtcclxuICB9IGVsc2UgaWYgKHQgPT09IG51bGwpIHtcclxuICAgIHJldHVybiBcIm51bGxcIjtcclxuICB9IGVsc2UgaWYgKHQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgcmV0dXJuIFwidW5kZWZpbmVkXCI7XHJcbiAgfVxyXG4gIGlmICh0eXBlb2YgdCA9PT0gXCJzeW1ib2xcIikge1xyXG4gICAgcmV0dXJuIFwic3ltYm9sXCI7XHJcbiAgfSBlbHNlIGlmICh0IGluc3RhbmNlb2YgRGF0ZSkge1xyXG4gICAgcmV0dXJuIHQudG9VVENTdHJpbmcoKTtcclxuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodCkpIHtcclxuICAgIHJldHVybiB0XHJcbiAgICAgIC5tYXAoeCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGFueVRvU3RyaW5nKHgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuam9pbihcIiwgXCIpO1xyXG4gIH0gZWxzZSBpZiAodHlwZW9mIHQgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgcmV0dXJuIFwiZnVuY3Rpb25cIjtcclxuICB9XHJcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHQpO1xyXG5cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9