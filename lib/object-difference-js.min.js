!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("object-difference-js",[],e):"object"==typeof exports?exports["object-difference-js"]=e():t["object-difference-js"]=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={ObjectDifference:r(1).GetObjectDifference};e.default=n,t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetObjectDifference=m;var n,o=(n=r(2))&&n.__esModule?n:{default:n};var f="created",u="updated",i="deleted",c="NA";function p(t){return""===t||0===t||null==t||t==={}||Array.isArray(t)&&t.length<1}function a(t){return!p(t)&&("boolean"==typeof t||"number"==typeof t||"string"==typeof t)}function y(t){return!p(t)&&t instanceof Date}function l(t){return!p(t)&&Array.isArray(t)}function d(t){return"function"==typeof t}function s(t){return!(a(t)||p(t)||y(t)||l(t)||d(t))}function b(t,e){return t?"".concat(t,".").concat(e):e}function m(t,e,r,n){var g=[];if("__ob__"===e||"__proto__"===e)return g;if(a(r)&&a(n))return r===n?g:(g.push({property:b(t,e),type:u,from:r,to:n}),g);if(d(r)||d(n))return g.push({property:b(t,e),type:c,from:(0,o.default)(r),to:(0,o.default)(n)}),g;if(y(r)&&y(n))return r.getTime()===n.getTime()?g:(g.push({property:b(t,e),type:u,from:(0,o.default)(r),to:(0,o.default)(n)}),g);if(y(r)&&a(n)||y(n)&&a(r))return g.push({property:b(t,e),type:u,from:(0,o.default)(r),to:(0,o.default)(n)}),g;if(p(r)&&p(n))return g;if(p(r)&&a(n))return g.push({property:b(t,e),type:f,from:"",to:(0,o.default)(n)}),g;if(p(r)&&y(n))return g.push({property:b(t,e),type:f,from:"",to:(0,o.default)(n)}),g;if(p(r)&&l(n)){for(var h=0;h<n.length;h++)g=g.concat(m(b(t,e),"[".concat(h,"]"),void 0,n[h]));return g}if(p(r)&&s(n))return Object.getOwnPropertyNames(n).forEach(function(r,o,f){g=g.concat(m(b(t,e),r,void 0,n[r]))}),g;if((a(r)||y(r)||l(r)||s(r))&&p(n))return g.push({property:b(t,e),type:i,from:"",to:""}),g;if((a(r)||y(r))&&l(n)){g.push({property:b(t,e),type:i,from:"",to:""});for(var v=0;v<n.length;v++)g=g.concat(m(b(t,e),"[".concat(v,"]"),void 0,n[v]));return g}if((a(r)||y(r))&&s(n))return g.push({property:b(t,e),type:i,from:"",to:""}),Object.getOwnPropertyNames(n).forEach(function(r,o,f){g=g.concat(m(b(t,e),r,void 0,n[r]))}),g;if(l(r)&&(a(n)||y(n)))return g.push({property:b(t,e),type:u,from:"Array[".concat(r.length,"]"),to:(0,o.default)(n)}),g;if(l(r)&&l(n))return g=g.concat(function(t,e,r,n){var o=[];if(r.length===n.length){for(var f=0;f<r.length;f++)if(JSON.stringify(r)!==JSON.stringify(n))for(var i=0;i<r.length;i++)o=o.concat(m(b(t,e),"[".concat(i,"]"),r[i],n[i]));return o}if(r.length>30||n.length>30)return o.push({property:b(t,e),type:u,from:"Array[".concat(r.length,"]"),to:"Array[".concat(n.length,"]")}),o;function c(t){return function(e){return 0===t.filter(function(t){return JSON.stringify(t)===JSON.stringify(e)}).length}}for(var p=r.filter(c(n)),a=n.filter(c(r)),y=0;y<p.length;y++)o=o.concat(m(b(t,e),"[".concat(y,"]"),p[y],void 0));for(var l=0;l<a.length;l++)o=o.concat(m(b(t,e),"[".concat(l,"]"),void 0,a[l]));return o}(t,e,r,n));if(l(r)&&l(n))return g.push({property:b(t,e),type:i,from:"Array[".concat(r.length,"]"),to:""}),Object.getOwnPropertyNames(n).forEach(function(r,o,f){g=g.concat(m(b(t,e),r,void 0,n[r]))}),g;if(s(r)&&(a(n)||y(n)))return g.push({property:b(t,e),type:u,from:"{}",to:(0,o.default)(n)}),g;if(s(r)&&l(n)){g.push({property:b(t,e),type:i,from:"{}",to:(0,o.default)(n)});for(var j=0;j<n.length;j++)g=g.concat(m(b(t,e),"[".concat(j,"]"),void 0,n[j]));return g}return s(r)&&s(n)&&(Object.getOwnPropertyNames(r).forEach(function(o,f,u){g=g.concat(m(b(t,e),o,r[o],n[o]))}),Object.getOwnPropertyNames(n).forEach(function(o,f,u){void 0===r[o]&&(g=g.concat(m(b(t,e),o,void 0,n[o])))})),g}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e){if("boolean"==typeof e||"number"==typeof e||"string"==typeof e)return e.toString();if(null===e)return"null";if(void 0===e)return"undefined";if("symbol"===n(e))return"symbol";if(e instanceof Date)return e.toUTCString();if(Array.isArray(e))return e.map(function(e){return t(e)}).join(", ");if("function"==typeof e)return"function";return JSON.stringify(e)},t.exports=e.default}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vYmplY3QtZGlmZmVyZW5jZS1qcy93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vb2JqZWN0LWRpZmZlcmVuY2UtanMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb2JqZWN0LWRpZmZlcmVuY2UtanMvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb2JqZWN0LWRpZmZlcmVuY2UtanMvLi9zcmMvb2JqZWN0RGlmZmVyZW5jZS5qcyIsIndlYnBhY2s6Ly9vYmplY3QtZGlmZmVyZW5jZS1qcy8uL3NyYy9hbnlUb1N0cmluZy5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwidGhpcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJPYmplY3REaWZmZXJlbmNlIiwiR2V0T2JqZWN0RGlmZmVyZW5jZSIsIl9hbnlUb1N0cmluZyIsIlZBTFVFX0NSRUFURUQiLCJWQUxVRV9VUERBVEVEIiwiVkFMVUVfREVMRVRFRCIsIk5PVF9DT01QQVJBQkxFIiwiX2lzQmxhbmsiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJfaXNWYWx1ZSIsIl9pc0RhdGUiLCJEYXRlIiwiX2lzQXJyYXkiLCJfaXNGdW5jdGlvbiIsIl9pc09iamVjdCIsIl9nZXRGdWxsUHJvcE5hbWUiLCJwYXJlbnROYW1lIiwicHJvcGVydHlOYW1lIiwiY29uY2F0IiwidmFsdWVGcm9tIiwidmFsdWVUbyIsImRpZmYiLCJwdXNoIiwidHlwZSIsImZyb20iLCJ0byIsImRlZmF1bHQiLCJnZXRUaW1lIiwidW5kZWZpbmVkIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImZvckVhY2giLCJ2YWwiLCJpZHgiLCJhcnJheSIsImExIiwiYTIiLCJKU09OIiwic3RyaW5naWZ5IiwiY29tcGFyZXIiLCJvdGhlckFycmF5IiwiY3VycmVudCIsImZpbHRlciIsIm90aGVyIiwib25seUluQTEiLCJvbmx5SW5BMiIsIl9nZXRBcnJheURpZmZlbmNlIiwiYW55VG9TdHJpbmciLCJ0b1N0cmluZyIsIl90eXBlb2YiLCJ0b1VUQ1N0cmluZyIsIm1hcCIsIngiLCJqb2luIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGlCQUFBQyxTQUFBLGlCQUFBQyxPQUNBQSxPQUFBRCxRQUFBRCxJQUNBLG1CQUFBRyxlQUFBQyxJQUNBRCxPQUFBLDBCQUFBSCxHQUNBLGlCQUFBQyxRQUNBQSxRQUFBLHdCQUFBRCxJQUVBRCxFQUFBLHdCQUFBQyxJQVJBLENBU0Msb0JBQUFLLFVBQUFDLEtBQUEsV0FDRCxtQkNUQSxJQUFBQyxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFSLFFBR0EsSUFBQUMsRUFBQUssRUFBQUUsR0FBQSxDQUNBQyxFQUFBRCxFQUNBRSxHQUFBLEVBQ0FWLFFBQUEsSUFVQSxPQU5BVyxFQUFBSCxHQUFBSSxLQUFBWCxFQUFBRCxRQUFBQyxJQUFBRCxRQUFBTyxHQUdBTixFQUFBUyxHQUFBLEVBR0FULEVBQUFELFFBMERBLE9BckRBTyxFQUFBTSxFQUFBRixFQUdBSixFQUFBTyxFQUFBUixFQUdBQyxFQUFBUSxFQUFBLFNBQUFmLEVBQUFnQixFQUFBQyxHQUNBVixFQUFBVyxFQUFBbEIsRUFBQWdCLElB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Q29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIm9iamVjdC1kaWZmZXJlbmNlLWpzXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIm9iamVjdC1kaWZmZXJlbmNlLWpzXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIm9iamVjdC1kaWZmZXJlbmNlLWpzXCJdID0gZmFjdG9yeSgpO1xufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCB7IEdldE9iamVjdERpZmZlcmVuY2UgYXMgT2JqZWN0RGlmZmVyZW5jZX0gZnJvbSAnLi9vYmplY3REaWZmZXJlbmNlLmpzJztcclxuZXhwb3J0IGRlZmF1bHQgeyBPYmplY3REaWZmZXJlbmNlIH07XHJcbiIsImltcG9ydCBhbnlUb1N0cmluZyBmcm9tICcuL2FueVRvU3RyaW5nLmpzJztcclxuXHJcbmNvbnN0IFZBTFVFX0NSRUFURUQgPSAnY3JlYXRlZCcsXHJcbiAgVkFMVUVfVVBEQVRFRCA9ICd1cGRhdGVkJyxcclxuICBWQUxVRV9ERUxFVEVEID0gJ2RlbGV0ZWQnLFxyXG4gIE5PVF9DT01QQVJBQkxFID0gJ05BJztcclxuXHJcbmZ1bmN0aW9uIF9pc0JsYW5rKHQpIHtcclxuICByZXR1cm4gdCA9PT0gJycgfHwgdCA9PT0gMCB8fCB0ID09PSB1bmRlZmluZWQgfHwgdCA9PT0gbnVsbCB8fCB0ID09PSB7fSB8fCAoQXJyYXkuaXNBcnJheSh0KSAmJiB0Lmxlbmd0aCA8IDEpO1xyXG59XHJcbmZ1bmN0aW9uIF9pc1ZhbHVlKHQpIHtcclxuICByZXR1cm4gIV9pc0JsYW5rKHQpICYmICh0eXBlb2YgdCA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiB0ID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdCA9PT0gJ3N0cmluZycpO1xyXG59XHJcbmZ1bmN0aW9uIF9pc0RhdGUodCkge1xyXG4gIHJldHVybiAhX2lzQmxhbmsodCkgJiYgdCBpbnN0YW5jZW9mIERhdGU7XHJcbn1cclxuZnVuY3Rpb24gX2lzQXJyYXkodCkge1xyXG4gIHJldHVybiAhX2lzQmxhbmsodCkgJiYgQXJyYXkuaXNBcnJheSh0KTtcclxufVxyXG5mdW5jdGlvbiBfaXNGdW5jdGlvbih0KSB7XHJcbiAgcmV0dXJuIHR5cGVvZiB0ID09PSAnZnVuY3Rpb24nO1xyXG59XHJcbmZ1bmN0aW9uIF9pc09iamVjdCh0KSB7XHJcbiAgcmV0dXJuICFfaXNWYWx1ZSh0KSAmJiAhX2lzQmxhbmsodCkgJiYgIV9pc0RhdGUodCkgJiYgIV9pc0FycmF5KHQpICYmICFfaXNGdW5jdGlvbih0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gX2dldEZ1bGxQcm9wTmFtZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUpIHtcclxuICByZXR1cm4gcGFyZW50TmFtZSA/IGAke3BhcmVudE5hbWV9LiR7cHJvcGVydHlOYW1lfWAgOiBwcm9wZXJ0eU5hbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9nZXRBcnJheURpZmZlbmNlKHBhcmVudE5hbWUsIHByb3BlcnR5TmFtZSwgYTEsIGEyKSB7XHJcbiAgbGV0IGRpZmYgPSBbXTtcclxuXHJcbiAgaWYgKGExLmxlbmd0aCA9PT0gYTIubGVuZ3RoKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGExLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChKU09OLnN0cmluZ2lmeShhMSkgPT09IEpTT04uc3RyaW5naWZ5KGEyKSkge1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYTEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGRpZmYgPSBkaWZmLmNvbmNhdChHZXRPYmplY3REaWZmZXJlbmNlKF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSwgYFske2l9XWAsIGExW2ldLCBhMltpXSkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGlmZjtcclxuICB9XHJcblxyXG4gIGlmIChhMS5sZW5ndGggPiAzMCB8fCBhMi5sZW5ndGggPiAzMCkge1xyXG4gICAgZGlmZi5wdXNoKHtcclxuICAgICAgcHJvcGVydHk6IF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSxcclxuICAgICAgdHlwZTogVkFMVUVfVVBEQVRFRCxcclxuICAgICAgZnJvbTogYEFycmF5WyR7YTEubGVuZ3RofV1gLFxyXG4gICAgICB0bzogYEFycmF5WyR7YTIubGVuZ3RofV1gXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkaWZmO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY29tcGFyZXIob3RoZXJBcnJheSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChjdXJyZW50KSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgb3RoZXJBcnJheS5maWx0ZXIoZnVuY3Rpb24gKG90aGVyKSB7XHJcbiAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob3RoZXIpID09PSBKU09OLnN0cmluZ2lmeShjdXJyZW50KTtcclxuICAgICAgICB9KS5sZW5ndGggPT09IDBcclxuICAgICAgKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBsZXQgb25seUluQTEgPSBhMS5maWx0ZXIoY29tcGFyZXIoYTIpKTtcclxuICBsZXQgb25seUluQTIgPSBhMi5maWx0ZXIoY29tcGFyZXIoYTEpKTtcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBvbmx5SW5BMS5sZW5ndGg7IGkrKykge1xyXG4gICAgZGlmZiA9IGRpZmYuY29uY2F0KEdldE9iamVjdERpZmZlcmVuY2UoX2dldEZ1bGxQcm9wTmFtZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUpLCBgWyR7aX1dYCwgb25seUluQTFbaV0sIHVuZGVmaW5lZCkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXHJcbiAgfVxyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IG9ubHlJbkEyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBkaWZmID0gZGlmZi5jb25jYXQoR2V0T2JqZWN0RGlmZmVyZW5jZShfZ2V0RnVsbFByb3BOYW1lKHBhcmVudE5hbWUsIHByb3BlcnR5TmFtZSksIGBbJHtpfV1gLCB1bmRlZmluZWQsIG9ubHlJbkEyW2ldKSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcclxuICB9XHJcblxyXG4gIHJldHVybiBkaWZmO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IGRlZXAgb2JqZWN0IGRpZmZlcmVuY2VcclxuICpcclxuICogQGV4cG9ydFxyXG4gKiBAcGFyYW0geyp9IHBhcmVudE5hbWVcclxuICogQHBhcmFtIHsqfSBwcm9wZXJ0eU5hbWVcclxuICogQHBhcmFtIHsqfSB2YWx1ZUZyb21cclxuICogQHBhcmFtIHsqfSB2YWx1ZVRvXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gR2V0T2JqZWN0RGlmZmVyZW5jZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUsIHZhbHVlRnJvbSwgdmFsdWVUbykge1xyXG4gIGxldCBkaWZmID0gW107XHJcblxyXG4gIGlmIChwcm9wZXJ0eU5hbWUgPT09ICdfX29iX18nIHx8IHByb3BlcnR5TmFtZSA9PT0gJ19fcHJvdG9fXycpIHtcclxuICAgIHJldHVybiBkaWZmO1xyXG4gIH1cclxuICAvLyBjYXNlOiDkuKTkuKrpg73mmK/ln7rnoYDnsbvlnotcclxuICBpZiAoX2lzVmFsdWUodmFsdWVGcm9tKSAmJiBfaXNWYWx1ZSh2YWx1ZVRvKSkge1xyXG4gICAgaWYgKHZhbHVlRnJvbSA9PT0gdmFsdWVUbykge1xyXG4gICAgICByZXR1cm4gZGlmZjtcclxuICAgIH1cclxuICAgIGRpZmYucHVzaCh7XHJcbiAgICAgIHByb3BlcnR5OiBfZ2V0RnVsbFByb3BOYW1lKHBhcmVudE5hbWUsIHByb3BlcnR5TmFtZSksXHJcbiAgICAgIHR5cGU6IFZBTFVFX1VQREFURUQsXHJcbiAgICAgIGZyb206IHZhbHVlRnJvbSxcclxuICAgICAgdG86IHZhbHVlVG9cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGRpZmY7XHJcblxyXG4gIH1cclxuXHJcbiAgLy8gY2FzZTog5o6S6Zmk5pyJZnVuY3Rpb27nmoTmg4XlhrVcclxuICBpZiAoX2lzRnVuY3Rpb24odmFsdWVGcm9tKSB8fCBfaXNGdW5jdGlvbih2YWx1ZVRvKSkge1xyXG4gICAgZGlmZi5wdXNoKHtcclxuICAgICAgcHJvcGVydHk6IF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSxcclxuICAgICAgdHlwZTogTk9UX0NPTVBBUkFCTEUsXHJcbiAgICAgIGZyb206IGFueVRvU3RyaW5nKHZhbHVlRnJvbSksXHJcbiAgICAgIHRvOiBhbnlUb1N0cmluZyh2YWx1ZVRvKVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZGlmZjtcclxuICB9XHJcblxyXG4gIC8vIGNhc2U6IOS4pOS4qumDveaYr+aXpeacn1xyXG4gIGlmIChfaXNEYXRlKHZhbHVlRnJvbSkgJiYgX2lzRGF0ZSh2YWx1ZVRvKSkge1xyXG4gICAgaWYgKHZhbHVlRnJvbS5nZXRUaW1lKCkgPT09IHZhbHVlVG8uZ2V0VGltZSgpKSB7XHJcbiAgICAgIHJldHVybiBkaWZmO1xyXG4gICAgfVxyXG4gICAgZGlmZi5wdXNoKHtcclxuICAgICAgcHJvcGVydHk6IF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSxcclxuICAgICAgdHlwZTogVkFMVUVfVVBEQVRFRCxcclxuICAgICAgZnJvbTogYW55VG9TdHJpbmcodmFsdWVGcm9tKSxcclxuICAgICAgdG86IGFueVRvU3RyaW5nKHZhbHVlVG8pXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkaWZmO1xyXG5cclxuICB9XHJcblxyXG4gIC8vIGNhc2U6IOS4gOS4quaYr+aXpeacn++8jOWPpuS4gOS4quaYr+WAvFxyXG4gIGlmICgoX2lzRGF0ZSh2YWx1ZUZyb20pICYmIF9pc1ZhbHVlKHZhbHVlVG8pKSB8fCAoX2lzRGF0ZSh2YWx1ZVRvKSAmJiBfaXNWYWx1ZSh2YWx1ZUZyb20pKSkge1xyXG4gICAgZGlmZi5wdXNoKHtcclxuICAgICAgcHJvcGVydHk6IF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSxcclxuICAgICAgdHlwZTogVkFMVUVfVVBEQVRFRCxcclxuICAgICAgZnJvbTogYW55VG9TdHJpbmcodmFsdWVGcm9tKSxcclxuICAgICAgdG86IGFueVRvU3RyaW5nKHZhbHVlVG8pXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkaWZmO1xyXG4gIH1cclxuXHJcbiAgLy8gY2FzZTog5Lik5Liq6YO95pivQmxhbmtcclxuICBpZiAoX2lzQmxhbmsodmFsdWVGcm9tKSAmJiBfaXNCbGFuayh2YWx1ZVRvKSkge1xyXG4gICAgcmV0dXJuIGRpZmY7XHJcbiAgfVxyXG4gIC8vIGNhc2U6IEZyb23mmK9ibGFuaywgVG/kuI3mmK9cclxuICBpZiAoX2lzQmxhbmsodmFsdWVGcm9tKSAmJiBfaXNWYWx1ZSh2YWx1ZVRvKSkge1xyXG4gICAgZGlmZi5wdXNoKHtcclxuICAgICAgcHJvcGVydHk6IF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSxcclxuICAgICAgdHlwZTogVkFMVUVfQ1JFQVRFRCxcclxuICAgICAgZnJvbTogJycsXHJcbiAgICAgIHRvOiBhbnlUb1N0cmluZyh2YWx1ZVRvKVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZGlmZjtcclxuICB9XHJcbiAgaWYgKF9pc0JsYW5rKHZhbHVlRnJvbSkgJiYgX2lzRGF0ZSh2YWx1ZVRvKSkge1xyXG4gICAgZGlmZi5wdXNoKHtcclxuICAgICAgcHJvcGVydHk6IF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSxcclxuICAgICAgdHlwZTogVkFMVUVfQ1JFQVRFRCxcclxuICAgICAgZnJvbTogJycsXHJcbiAgICAgIHRvOiBhbnlUb1N0cmluZyh2YWx1ZVRvKVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZGlmZjtcclxuICB9XHJcbiAgaWYgKF9pc0JsYW5rKHZhbHVlRnJvbSkgJiYgX2lzQXJyYXkodmFsdWVUbykpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVUby5sZW5ndGg7IGkrKykge1xyXG4gICAgICBkaWZmID0gZGlmZi5jb25jYXQoR2V0T2JqZWN0RGlmZmVyZW5jZShfZ2V0RnVsbFByb3BOYW1lKHBhcmVudE5hbWUsIHByb3BlcnR5TmFtZSksIGBbJHtpfV1gLCB1bmRlZmluZWQsIHZhbHVlVG9baV0pKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkaWZmO1xyXG4gIH1cclxuICBpZiAoX2lzQmxhbmsodmFsdWVGcm9tKSAmJiBfaXNPYmplY3QodmFsdWVUbykpIHtcclxuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlVG8pLmZvckVhY2goZnVuY3Rpb24gKHZhbCwgaWR4LCBhcnJheSkge1xyXG4gICAgICBkaWZmID0gZGlmZi5jb25jYXQoR2V0T2JqZWN0RGlmZmVyZW5jZShfZ2V0RnVsbFByb3BOYW1lKHBhcmVudE5hbWUsIHByb3BlcnR5TmFtZSksIHZhbCwgdW5kZWZpbmVkLCB2YWx1ZVRvW3ZhbF0pKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGRpZmY7XHJcbiAgfVxyXG4gIC8vIGNhc2U6IEZyb23kuI3mmK9ibGFuaywgVG/mmK9cclxuICBpZiAoKF9pc1ZhbHVlKHZhbHVlRnJvbSkgfHwgX2lzRGF0ZSh2YWx1ZUZyb20pIHx8IF9pc0FycmF5KHZhbHVlRnJvbSkgfHwgX2lzT2JqZWN0KHZhbHVlRnJvbSkpICYmIF9pc0JsYW5rKHZhbHVlVG8pKSB7XHJcbiAgICBkaWZmLnB1c2goe1xyXG4gICAgICBwcm9wZXJ0eTogX2dldEZ1bGxQcm9wTmFtZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUpLFxyXG4gICAgICB0eXBlOiBWQUxVRV9ERUxFVEVELFxyXG4gICAgICBmcm9tOiAnJyxcclxuICAgICAgdG86ICcnXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkaWZmO1xyXG4gIH1cclxuXHJcbiAgLy8gY2FzZTogRnJvbeaYr+WAvOaIluaXpeacn++8jFRv5pivQXJyYXlcclxuICBpZiAoKF9pc1ZhbHVlKHZhbHVlRnJvbSkgfHwgX2lzRGF0ZSh2YWx1ZUZyb20pKSAmJiBfaXNBcnJheSh2YWx1ZVRvKSkge1xyXG4gICAgZGlmZi5wdXNoKHtcclxuICAgICAgcHJvcGVydHk6IF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSxcclxuICAgICAgdHlwZTogVkFMVUVfREVMRVRFRCxcclxuICAgICAgZnJvbTogJycsXHJcbiAgICAgIHRvOiAnJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZVRvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGRpZmYgPSBkaWZmLmNvbmNhdChHZXRPYmplY3REaWZmZXJlbmNlKF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSwgYFske2l9XWAsIHVuZGVmaW5lZCwgdmFsdWVUb1tpXSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkaWZmO1xyXG4gIH1cclxuXHJcbiAgLy8gY2FzZTogRnJvbeaYr+WAvOaIluaXpeacn++8jFRv5pivT2JqZWN0XHJcbiAgaWYgKChfaXNWYWx1ZSh2YWx1ZUZyb20pIHx8IF9pc0RhdGUodmFsdWVGcm9tKSkgJiYgX2lzT2JqZWN0KHZhbHVlVG8pKSB7XHJcbiAgICBkaWZmLnB1c2goe1xyXG4gICAgICBwcm9wZXJ0eTogX2dldEZ1bGxQcm9wTmFtZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUpLFxyXG4gICAgICB0eXBlOiBWQUxVRV9ERUxFVEVELFxyXG4gICAgICBmcm9tOiAnJyxcclxuICAgICAgdG86ICcnXHJcbiAgICB9KTtcclxuXHJcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZVRvKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwsIGlkeCwgYXJyYXkpIHtcclxuICAgICAgZGlmZiA9IGRpZmYuY29uY2F0KEdldE9iamVjdERpZmZlcmVuY2UoX2dldEZ1bGxQcm9wTmFtZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUpLCB2YWwsIHVuZGVmaW5lZCwgdmFsdWVUb1t2YWxdKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZGlmZjtcclxuICB9XHJcblxyXG4gIC8vIGNhc2U6IEZyb23mmK9BcnJhee+8jFRv5piv5YC85oiW5pel5pyfXHJcbiAgaWYgKF9pc0FycmF5KHZhbHVlRnJvbSkgJiYgKF9pc1ZhbHVlKHZhbHVlVG8pIHx8IF9pc0RhdGUodmFsdWVUbykpKSB7XHJcbiAgICBkaWZmLnB1c2goe1xyXG4gICAgICBwcm9wZXJ0eTogX2dldEZ1bGxQcm9wTmFtZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUpLFxyXG4gICAgICB0eXBlOiBWQUxVRV9VUERBVEVELFxyXG4gICAgICBmcm9tOiBgQXJyYXlbJHt2YWx1ZUZyb20ubGVuZ3RofV1gLFxyXG4gICAgICB0bzogYW55VG9TdHJpbmcodmFsdWVUbylcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGRpZmY7XHJcbiAgfVxyXG5cclxuICAvLyBjYXNlOiBGcm9t5pivQXJyYXnvvIxUb+aYr0FycmF5XHJcbiAgaWYgKF9pc0FycmF5KHZhbHVlRnJvbSkgJiYgX2lzQXJyYXkodmFsdWVUbykpIHtcclxuICAgIGRpZmYgPSBkaWZmLmNvbmNhdChfZ2V0QXJyYXlEaWZmZW5jZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUsIHZhbHVlRnJvbSwgdmFsdWVUbykpO1xyXG4gICAgcmV0dXJuIGRpZmY7XHJcbiAgfVxyXG5cclxuICAvLyBjYXNlOiBGcm9t5pivQXJyYXnvvIxUb+aYr09iamVjdFxyXG4gIGlmIChfaXNBcnJheSh2YWx1ZUZyb20pICYmIF9pc0FycmF5KHZhbHVlVG8pKSB7XHJcbiAgICBkaWZmLnB1c2goe1xyXG4gICAgICBwcm9wZXJ0eTogX2dldEZ1bGxQcm9wTmFtZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUpLFxyXG4gICAgICB0eXBlOiBWQUxVRV9ERUxFVEVELFxyXG4gICAgICBmcm9tOiBgQXJyYXlbJHt2YWx1ZUZyb20ubGVuZ3RofV1gLFxyXG4gICAgICB0bzogJydcclxuICAgIH0pO1xyXG5cclxuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlVG8pLmZvckVhY2goZnVuY3Rpb24gKHZhbCwgaWR4LCBhcnJheSkge1xyXG4gICAgICBkaWZmID0gZGlmZi5jb25jYXQoR2V0T2JqZWN0RGlmZmVyZW5jZShfZ2V0RnVsbFByb3BOYW1lKHBhcmVudE5hbWUsIHByb3BlcnR5TmFtZSksIHZhbCwgdW5kZWZpbmVkLCB2YWx1ZVRvW3ZhbF0pKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBkaWZmO1xyXG4gIH1cclxuXHJcbiAgLy8gY2FzZTogRnJvbeaYr09iamVjdO+8jFRv5piv5YC85oiW5pel5pyfXHJcbiAgaWYgKF9pc09iamVjdCh2YWx1ZUZyb20pICYmIChfaXNWYWx1ZSh2YWx1ZVRvKSB8fCBfaXNEYXRlKHZhbHVlVG8pKSkge1xyXG4gICAgZGlmZi5wdXNoKHtcclxuICAgICAgcHJvcGVydHk6IF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSxcclxuICAgICAgdHlwZTogVkFMVUVfVVBEQVRFRCxcclxuICAgICAgZnJvbTogJ3t9JyxcclxuICAgICAgdG86IGFueVRvU3RyaW5nKHZhbHVlVG8pXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZGlmZjtcclxuICB9XHJcbiAgLy8gY2FzZTogRnJvbeaYr09iamVjdO+8jFRv5pivQXJyYXlcclxuICBpZiAoX2lzT2JqZWN0KHZhbHVlRnJvbSkgJiYgX2lzQXJyYXkodmFsdWVUbykpIHtcclxuICAgIGRpZmYucHVzaCh7XHJcbiAgICAgIHByb3BlcnR5OiBfZ2V0RnVsbFByb3BOYW1lKHBhcmVudE5hbWUsIHByb3BlcnR5TmFtZSksXHJcbiAgICAgIHR5cGU6IFZBTFVFX0RFTEVURUQsXHJcbiAgICAgIGZyb206ICd7fScsXHJcbiAgICAgIHRvOiBhbnlUb1N0cmluZyh2YWx1ZVRvKVxyXG4gICAgfSk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlVG8ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgZGlmZiA9IGRpZmYuY29uY2F0KEdldE9iamVjdERpZmZlcmVuY2UoX2dldEZ1bGxQcm9wTmFtZShwYXJlbnROYW1lLCBwcm9wZXJ0eU5hbWUpLCBgWyR7aX1dYCwgdW5kZWZpbmVkLCB2YWx1ZVRvW2ldKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGlmZjtcclxuICB9XHJcblxyXG4gIC8vIGNhc2U6IEZyb23mmK9PYmplY3TvvIxUb+aYr09iamVjdFxyXG4gIGlmIChfaXNPYmplY3QodmFsdWVGcm9tKSAmJiBfaXNPYmplY3QodmFsdWVUbykpIHtcclxuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlRnJvbSkuZm9yRWFjaChmdW5jdGlvbiAodmFsLCBpZHgsIGFycmF5KSB7XHJcbiAgICAgIGRpZmYgPSBkaWZmLmNvbmNhdChHZXRPYmplY3REaWZmZXJlbmNlKF9nZXRGdWxsUHJvcE5hbWUocGFyZW50TmFtZSwgcHJvcGVydHlOYW1lKSwgdmFsLCB2YWx1ZUZyb21bdmFsXSwgdmFsdWVUb1t2YWxdKSk7XHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlVG8pLmZvckVhY2goZnVuY3Rpb24gKHZhbCwgaWR4LCBhcnJheSkge1xyXG4gICAgICBpZiAodmFsdWVGcm9tW3ZhbF0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBkaWZmID0gZGlmZi5jb25jYXQoR2V0T2JqZWN0RGlmZmVyZW5jZShfZ2V0RnVsbFByb3BOYW1lKHBhcmVudE5hbWUsIHByb3BlcnR5TmFtZSksIHZhbCwgdW5kZWZpbmVkLCB2YWx1ZVRvW3ZhbF0pKTtcclxuXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBkaWZmO1xyXG59O1xyXG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhbnlUb1N0cmluZyh0KSB7XHJcbiAgaWYgKHR5cGVvZiB0ID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIHQgPT09ICdudW1iZXInIHx8IHR5cGVvZiB0ID09PSAnc3RyaW5nJykge1xyXG4gICAgcmV0dXJuIHQudG9TdHJpbmcoKTtcclxuICB9IGVsc2UgaWYgKHQgPT09IG51bGwpIHtcclxuICAgIHJldHVybiAnbnVsbCc7XHJcbiAgfSBlbHNlIGlmICh0ID09PSB1bmRlZmluZWQpIHtcclxuICAgIHJldHVybiAndW5kZWZpbmVkJztcclxuICB9XHJcbiAgaWYgKHR5cGVvZiB0ID09PSAnc3ltYm9sJykge1xyXG4gICAgcmV0dXJuICdzeW1ib2wnO1xyXG4gIH0gZWxzZSBpZiAodCBpbnN0YW5jZW9mIERhdGUpIHtcclxuICAgIHJldHVybiB0LnRvVVRDU3RyaW5nKCk7XHJcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHQpKSB7XHJcbiAgICByZXR1cm4gdFxyXG4gICAgICAubWFwKHggPT4ge1xyXG4gICAgICAgIHJldHVybiBhbnlUb1N0cmluZyh4KTtcclxuICAgICAgfSlcclxuICAgICAgLmpvaW4oJywgJyk7XHJcbiAgfSBlbHNlIGlmICh0eXBlb2YgdCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgcmV0dXJuICdmdW5jdGlvbic7XHJcbiAgfVxyXG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh0KTtcclxuXHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==